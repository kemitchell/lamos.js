[
  {
    "name": "simple list",
    "lamos": [
      "- x",
      "- y"
    ],
    "tokens": [
      { "kind": "item" },
      { "kind": "string", "value": "x" },
      { "kind": "item" },
      { "kind": "string", "value": "y" }
    ],
    "js": ["x", "y"]
  },
  {
    "name": "nested list",
    "lamos": [
      "- - y",
      "  - z"
    ],
    "tokens": [
      { "kind": "item" },
      { "kind": "indent" },
      { "kind": "item" },
      { "kind": "string", "value": "y" },
      { "kind": "indent" },
      { "kind": "item" },
      { "kind": "string", "value": "z" },
      { "kind": "dedent" }
    ],
    "js": ["x", ["y"]]
  },
  {
    "name": "simple map",
    "lamos": [
      "a: x",
      "b: y"
    ],
    "tokens": [
      { "kind": "key", "value": "a" },
      { "kind": "string", "value": "x" },
      { "kind": "key", "value": "b" },
      { "kind": "string", "value": "y" }
    ],
    "js": { "a": "x", "b": "y" }
  },
  {
    "name": "nested map",
    "lamos": [
      "a:",
      "  b: x",
      "c: y"
    ],
    "tokens": [
      { "kind": "key", "value": "a" },
      { "kind": "indent" },
      { "kind": "key", "value": "b" },
      { "kind": "string", "value": "x" },
      { "kind": "dedent" },
      { "kind": "key", "value": "c" },
      { "kind": "string", "value": "y" }
    ],
    "js": { "a": { "b": "x" }, "c": "y" }
  },
  {
    "name": "token test",
    "lamos": [
      "- a:",
      "  - b",
      "- c: d"
    ],
    "tokens": [
      { "kind": "item" },
      { "kind": "key", "value": "a" },
      { "kind": "indent" },
      { "kind": "item" },
      { "kind": "string", "value": "b" },
      { "kind": "dedent" },
      { "kind": "item" },
      { "kind": "key", "value": "c" },
      { "kind": "string", "value": "d" }
    ]
  },
  {
    "name": "tricky map",
    "lamos": [
      "a:",
      "  b:",
      "    c: x",
      "  d:",
      "    e: y",
      "f: z"
    ],
    "js": {
      "a": {
        "b": {
          "c": "x"
        },
        "d": {
          "e": "y"
        }
      },
      "f": "z"
    }
  },
  {
    "name": "tricky list",
    "lamos": [
      "- - - w",
      "    - x",
      "  - y",
      "- z"
    ],
    "js": [
      [["w", "x"], "y"],
      "z"
    ]
  },
  {
    "name": "map containing list of maps",
    "lamos": [
      "a:",
      "- b: y",
      "  c: z"
    ],
    "js": { "a": [{ "b": "y", "c": "z" }] },
    "tokens": [
      { "kind": "key", "value": "a" },
      { "kind": "item" },
      { "kind": "key", "value": "b" },
      { "kind": "string", "value": "y" },
      { "kind": "indent" },
      { "kind": "key", "value": "c" },
      { "kind": "string", "value": "z" },
      { "kind": "dedent" }
    ]
  },
  {
    "name": "map containing list",
    "lamos": [
      "a: x",
      "b:",
      "- y",
      "- z"
    ],
    "js": { "a": "x", "b": ["y", "z"] },
    "tokens": [
      { "kind": "key", "value": "a" },
      { "kind": "string", "value": "x" },
      { "kind": "key", "value": "b" },
      { "kind": "item" },
      { "kind": "string", "value": "y" },
      { "kind": "item" },
      { "kind": "string", "value": "z" }
    ]
  },
  {
    "name": "list containing list",
    "lamos": [
      "- x",
      "- - y",
      "  - z"
    ],
    "js": ["x", ["y", "z"]] },
  {
    "name": "Beatles and Stones",
    "lamos": [
      "Beatles:",
      "- name: John",
      "  plays: bass",
      "- name: Paul",
      "  plays: guitar",
      "- name: George",
      "  plays: guitar",
      "- name: Ringo",
      "  plays: guitar",
      "",
      "Rolling Stones:",
      "- name: Brian",
      "  plays: guitar",
      "- name: Mick",
      "  plays: vocals",
      "- name: Keith",
      "  plays: guitar",
      "- name: Bill",
      "  plays: bass",
      "- name: Charlie",
      "  plays: drums",
      "- name: Ian",
      "  plays: piano"
    ],
    "js": {
      "Beatles": [
        { "name": "John", "plays": "bass" },
        { "name": "Paul", "plays": "guitar" },
        { "name": "George", "plays": "guitar" },
        { "name": "Ringo", "plays": "guitar" }
      ],
      "Rolling Stones": [
        { "name": "Brian", "plays": "guitar" },
        { "name": "Mick", "plays": "vocals" },
        { "name": "Keith", "plays": "guitar" },
        { "name": "Bill", "plays": "bass" },
        { "name": "Charlie", "plays": "drums" },
        { "name": "Ian", "plays": "piano" }
      ]
    }
  },
  {
    "name": "ignores blank lines",
    "lamos": [
      "a: x",
      "",
      "b: y",
      "",
      ""
    ],
    "js": { "a": "x", "b": "y" }
  },
  {
    "name": "ignores comment lines",
    "lamos": [
      "a: x",
      "# blah blah",
      "b: y",
      "# blah blah",
      "# blah blah"
    ],
    "js": { "a": "x", "b": "y" }
  },
  {
    "name": "invalid indentation",
    "lamos": [
      "a:",
      "  - x"
    ],
    "error": "Line 2 is indented too far."
  },
  {
    "name": "list item within map",
    "lamos": [
      "a: x",
      "- y"
    ],
    "error": "Line 2 is a list item within a map."
  },
  {
    "name": "list item within map",
    "lamos": [
      "a: x",
      "- y"
    ],
    "error": "Line 2 is a list item within a map."
  },
  {
    "name": "map item within list",
    "lamos": [
      "- x",
      "b: y"
    ],
    "error": "Line 2 is a map item within a list."
  },
  {
    "name": "list item containing map within map",
    "lamos": [
      "a: x",
      "- b: y",
      "  c: z"
    ],
    "error": "Line 2 is a list item within a map."
  },
  {
    "name": "list item containing list within map",
    "lamos": [
      "- x",
      "b:",
      "- z"
    ],
    "error": "Line 2 is a map item within a list."
  },
  {
    "name": "map as second item within list",
    "lamos": [
      "- w",
      "- a:",
      "  - y",
      "- z"
    ],
    "tokens": [
      { "kind": "item" },
      { "kind": "string", "value": "w" },
      { "kind": "item" },
      { "kind": "key", "value": "a" },
      { "kind": "indent" },
      { "kind": "item" },
      { "kind": "string", "value": "y" },
      { "kind": "dedent" },
      { "kind": "item" },
      { "kind": "string", "value": "z" }
    ],
    "js": ["w", { "a": ["y"] }, "z"]
  },
  {
    "name": "escaped colon",
    "lamos": ["- a\\: b"],
    "tokens": [
      { "kind": "item" },
      { "kind": "string", "value": "a: b" }
    ],
    "js": ["a: b"]
  },
  {
    "name": "escaped colon-space at end of line",
    "lamos": [
      "a:",
      "- b\\: ",
      "- c"
    ],
    "tokens": [
      { "kind": "key", "value": "a" },
      { "kind": "item" },
      { "kind": "string", "value": "b: " },
      { "kind": "item" },
      { "kind": "string", "value": "c" }
    ],
    "js": { "a": ["b: ", "c"] }
  },
  {
    "name": "escaped colon at end of line",
    "lamos": [
      "a:",
      "- b\\:",
      "- c"
    ],
    "tokens": [
      { "kind": "key", "value": "a" },
      { "kind": "item" },
      { "kind": "string", "value": "b:" },
      { "kind": "item" },
      { "kind": "string", "value": "c" }
    ],
    "js": { "a": ["b:", "c"] }
  },
  {
    "name": "colon at start",
    "lamos": ["- : b"],
    "tokens": [
      { "kind": "item" },
      { "kind": "string", "value": ": b" }
    ],
    "js": [": b"]
  },
  {
    "name": "escaped hyphen",
    "lamos": ["- \\- a"],
    "js":  ["- a"]
  },
  {
    "name": "longer key",
    "lamos": [
      "- abacus: x",
      "  b: y"
    ],
    "js": [{ "abacus": "x", "b": "y" }]
  },
  {
    "name": "escaped map pair",
    "lamos": [
      "a: x",
      "b\\: y"
    ],
    "error": "Invalid map pair on line 2."
  },
  {
    "name": "item ends with colon-space",
    "lamos": ["- a: "],
    "js": ["a: "]
  },
  {
    "name": "item ends with colon",
    "lamos": ["- a:"],
    "error": "Invalid map pair on line 1."
  },
  {
    "name": "escaped hyphen between hyphens",
    "lamos": ["- - \\- - a"],
    "js": [["- - a"]]
  },
  {
    "name": "newline in string",
    "js": ["this\nthat"],
    "error": "Cannot serialize string with newline"
  }
]
